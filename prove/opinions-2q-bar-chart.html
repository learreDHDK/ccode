<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">


  <title>CCode</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet">
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="https://github.com/learreDHDK/ccode/blob/master/css/resume.css" rel="stylesheet">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  
  <style>
    #container {
  height: 400px; 
}

.highcharts-figure, .highcharts-data-table table {
  min-width: 310px; 
  max-width: 800px;
  margin: 1em auto;
}

.highcharts-data-table table {
  font-family: Verdana, sans-serif;
  border-collapse: collapse;
  border: 1px solid #EBEBEB;
  margin: 10px auto;
  text-align: center;
  width: 100%;
  max-width: 500px;
}
.highcharts-data-table caption {
  padding: 1em 0;
  font-size: 1.2em;
  color: #555;
}
.highcharts-data-table th {
	font-weight: 600;
  padding: 0.5em;
}
.highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
  padding: 0.5em;
}
.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
  background: #f8f8f8;
}
.highcharts-data-table tr:hover {
  background: #f1f7ff;
}
  </style>
</head>

<body id="page-top">
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>

  

  <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Select the country
    <span class="caret"></span></button>
    <ul class="dropdown-menu" style="overflow-y: scroll;">
      <li><a href='#' id='Austria' onClick='set_chart(this.id)'>Austria</a></li>
	<li><a href='#' id='Belgium' onClick='set_chart(this.id)'>Belgium</a></li>
	<li><a href='#' id='Bulgaria' onClick='set_chart(this.id)'>Bulgaria</a></li>
	<li><a href='#' id='Croatia' onClick='set_chart(this.id)'>Croatia</a></li>
	<li><a href='#' id='Cyprus' onClick='set_chart(this.id)'>Cyprus</a></li>
	<li><a href='#' id='Czech Republic' onClick='set_chart(this.id)'>Czech Republic</a></li>
	<li><a href='#' id='Denmark' onClick='set_chart(this.id)'>Denmark</a></li>
	<li><a href='#' id='Estonia' onClick='set_chart(this.id)'>Estonia</a></li>
	<li><a href='#' id='Finland' onClick='set_chart(this.id)'>Finland</a></li>
	<li><a href='#' id='France' onClick='set_chart(this.id)'>France</a></li>
	<li><a href='#' id='Germany' onClick='set_chart(this.id)'>Germany</a></li>
	<li><a href='#' id='Hungary' onClick='set_chart(this.id)'>Hungary</a></li>
	<li><a href='#' id='Ireland' onClick='set_chart(this.id)'>Ireland</a></li>
	<li><a href='#' id='Italy' onClick='set_chart(this.id)'>Italy</a></li>
	<li><a href='#' id='Latvia' onClick='set_chart(this.id)'>Latvia</a></li>
	<li><a href='#' id='Lithuania' onClick='set_chart(this.id)'>Lithuania</a></li>
	<li><a href='#' id='Luxembourg' onClick='set_chart(this.id)'>Luxembourg</a></li>
	<li><a href='#' id='Malta' onClick='set_chart(this.id)'>Malta</a></li>
	<li><a href='#' id='Netherlands' onClick='set_chart(this.id)'>Netherlands</a></li>
	<li><a href='#' id='Poland' onClick='set_chart(this.id)'>Poland</a></li>
	<li><a href='#' id='Portugal' onClick='set_chart(this.id)'>Portugal</a></li>
	<li><a href='#' id='Romania' onClick='set_chart(this.id)'>Romania</a></li>
	<li><a href='#' id='Slovakia' onClick='set_chart(this.id)'>Slovakia</a></li>
	<li><a href='#' id='Slovenia' onClick='set_chart(this.id)'>Slovenia</a></li>
	<li><a href='#' id='Spain' onClick='set_chart(this.id)'>Spain</a></li>
	<li><a href='#' id='Sweden' onClick='set_chart(this.id)'>Sweden</a></li>
	<li><a href='#' id='United Kingdom' onClick='set_chart(this.id)'>United Kingdom</a></li>
    </ul>
  </div>

<figure class="highcharts-figure">
  <div id="container"></div>
  <p class="highcharts-description">
    This pie chart shows how the chart legend can be used to provide
    information about the individual slices.
  </p>
</figure>


  <script>
  
    var request = new XMLHttpRequest();
    request.open("GET", "opinions-2-3q-chart.json", false);
    request.send(null)
    var obj = JSON.parse(request.responseText);
    
var euro09 = []
var euro13 = []
var euro19 = []

function set_chart(clicked_id) {
  
	if (euro09.length != 0 && euro13.length != 0 && euro19.length != 0) {
		euro09.length = 0;
		euro13.length = 0;
		euro19.length = 0;
		}	

		var country = obj[clicked_id]

		euro09.push(country["2009"])
		euro09 = euro09[0]
		euro13.push(country["2013"])
		euro13 = euro13[0]
		euro19.push(country["2019"])
		euro19 = euro19[0]


	Highcharts.chart('container', {
	  chart: {
	    type: 'column'
	  },
	  title: {
	    text: 'On a scale from 1 to 10, how serious do you consider the problem of climate change?'
	  },
	  xAxis: {
	    categories: ['2009', '2013', '2019']
	  },
	  yAxis: {
	    min: 0,
	    title: {
	      text: 'Respondents (%)'
	    }
	  },
	  tooltip: {
	    pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.0f}%</b><br/>',
	    shared: true
	  },
	  plotOptions: {
	    column: {
	      stacking: 'percent'
	    }
	  },
	  series: [{
	    name: 'Not a serious problem (1-4)',
	    data: [euro09[0], euro13[0], euro19[0]]
	  }, {
	    name: 'A fairly serious problem (5-6)',
	    data: [euro09[1], euro13[1], euro19[1]]
	  }, {
	    name: 'A very serious problem (7-10)',
	    data: [euro09[2], euro13[2], euro19[2]]
	  }, {
	    name: 'Don\'t know',
	    data: [euro09[3], euro13[3], euro19[3]]
	  }]
	});
}
  </script>

</body>

</html>
