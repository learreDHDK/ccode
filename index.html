<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="icon" href="img/damaged1.png" type="image/x-icon"/>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Flag sprites service provided by Martijn Lafeber, https://github.com/lafeber/world-flags-sprite/blob/master/LICENSE 
  <link rel="stylesheet" type="text/css" href="//github.com/downloads/lafeber/world-flags-sprite/flags32.css" />-->

  <title>CCODe</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


  <!-- Custom fonts for this template -->
  <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet">
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/resume.css" rel="stylesheet">
	
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  <script src="charts/map-js/datamaps.world.min.js"></script>

	<style>
		
		
		.buttons-group {
			width: 100%;
			margin: 20px 0;
			text-align: center;
		}
		
		.first .btn-primary{
			background-color: #61371C;
			border-color: #61371C;
		}
		
		
		.first button:hover,
		.first button:focus,
		.first button:active{
			background-color: #216140 !important;
			border-color: #216140 !important;
			outline: 1px transparent #216140 !important;
			box-shadow: 3px 3px 3px 3px #216140 !important;
		}
		
		.questions button {
			background-color: transparent;
			border: 0px solid transparent;
		}
		
		.questions button:focus {
			color:  green;
			}
		.buttons-group button {
			margin: 0 5vw;
		}
		
	</style>
</head>

<body id="page-top" onload="myFunction()">

  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
    <a class="navbar-brand js-scroll-trigger" href="#page-top">
      <span class="d-block d-lg-none">CCODe</span>
      <span class="d-none d-lg-block">
        <img class="img-fluid img-profile" src="img/damaged1.png" alt="">
      </span>
    </a>
    <button class="navbar-toggler" href="#page-top" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#visualization">Visualization</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#metadata">Metadata</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#documentation">Documentation</a>
        </li>
        <li>
        	<div class="social-icons">
        		<a href="https://github.com/learreDHDK/ccode">
            		<i class="fab fa-github"></i>
          		</a>
        	</div>
        </li>
	<li>
		<p style="margin-top: 10px;">CCODe 2020 Â© CC-BY-SA</p>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container-fluid p-0">
<!-- d-flex align-items-center-->
    <section class="resume-section p-3 p-lg-5" id="visualization">
      <div class="w-100">
        <h1 style="color: #216140;" class="mb-0">CC
          <span class="text-primary">ode</span>
        </h1>
        <div class="subheading mb-5">Climate Change Open Data projEct
        </div>   
	 
        <p class="lead mb-5"></p>
        <div class="buttons-group first">
		<button type="button" id="button1" class="btn btn-primary " data-toggle="button" aria-pressed="true" autocomplete="on">Natural events</button>
		<button type="button" id="button2" class="btn btn-primary " data-toggle="button" aria-pressed="true" autocomplete="on">Impact and commitments</button>
		<button type="button" id="button3" class="btn btn-primary" data-toggle="button" aria-pressed="true" autocomplete="on">European opinions</button>
		<!--<button class='focus' id="button1" type="button">Natural events</button>
		<button  class='focus' id="button2" type="button">Impact and commitments</button>
		<button  class='focus' id="button3" type="button">European opinions</button>-->
	</div>
	<div class="buttons-group questions">
		<button ' id="button4" type="button" value="New Tab" style="display: none;"/>Global evolution of natural events</button>
		<!--<button  class='focus' id="button4" type="button">Global evolution of natural events</button>-->
		<button  id="button5" type="button" value="New Tab" style="display: none;"/>Global evolution of temperature, precipitations and sea ice extent</button>
		<button  id="button6" type="button" value="New Tab" style="display: none;"/>Evolution of natural events by country</button>
	</div>
	<div class="buttons-group questions">
		<button  id="button7" type="button" value="New Tab" style="display: none;"/>Perception of climate change as the most serious problem</button>
		<button  id="button8" type="button" value="New Tab" style="display: none;"/>Perception of the severity of climate change on a scale from 1 to 10</button>
		<button  id="button9" type="button" value="New Tab" style="display: none;"/>Citizens personally taking actions against climate change</button>
        	<button  id="button10" type="button" value="New Tab" style="display: none;"/>Perception of the responsibles in EU for tackling climate change</button>
	</div>
	
        <div id="mainContainer" style="border: 1px solid black;"></div>
	<div id="container" style="border: 1px solid red;"></div>

      </div>
    </section>
	  

    <hr class="m-0">

    <section class="resume-section p-3 p-lg-5 d-flex justify-content-center" id="metadata">
      <div class="w-100">
        <h2 class="mb-5">Metadata</h2>

        <div class="resume-item d-flex flex-column flex-md-row justify-content-between mb-5">
       		<div id="exTab1" class="container">	
			<ul class="nav nav-tabs">
				<li class="nav-item"><a class="nav-link active"href="#catalogue" data-toggle="tab">Catalogue</a></li>
				<li class="nav-item"><a class="nav-link" href="#natural-events" data-toggle="tab">Natural events</a></li>
				<li class="nav-item"><a class="nav-link" href="#impact-and-commitments" data-toggle="tab">Impact and commitments</a></li>
  				<li class="nav-item"><a class="nav-link" href="#eu-opinions" data-toggle="tab">EU opinions</a></li>
			</ul>
			<div class="tab-content">
				<div class="tab-pane active" id="catalogue">
					<table class="table">
					  <tbody>
					    <tr>
					      <th scope="row">Title</th>
					      <td>CCODe catalogue</td>
					    </tr>
					    <tr>
					      <th scope="row">Description</th>
					      <td>The catalogue of the CCODe datasets.</td>
					    </tr>
					    <tr>
					      <th scope="row">Publishers</th>
					      <td>Rebecca Del Bene, Leticia S. Hamvegam M., Arianna Pizzicori</td>
					    </tr>
					    <tr>
					      <th scope="row">URI</th>
						<td><a href="https://learreDHDK.github.io/ccode/xml/ccode-catalogue.zip">https://learreDHDK.github.io/ccode/xml/ccode-catalogue.zip</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Dataset</th>
					      <td><a href="https://learreDHDK.github.io/ccode/xml/natural_events.xml">https://learreDHDK.github.io/ccode/xml/natural_events.xml</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Dataset</th>
					      <td><a href="https://learreDHDK.github.io/ccode/xml/impact_and_commitments.xml">https://learreDHDK.github.io/ccode/xml/impact_and_commitments.xml</a></td>
					    </tr>
				 	    <tr>
					      <th scope="row">Dataset</th>
					      <td><a href="https://learreDHDK.github.io/ccode/xml/eu_opinions.xml">https://learreDHDK.github.io/ccode/xml/eu_opinions.xml</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Homepage</th>
					      <td><a href="https://learredhdk.github.io/ccode/">https://learredhdk.github.io/ccode/</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Language</th>
					      <td>English</td>
					    </tr>
					    <tr>
					      <th scope="row">License</th>
					      <td>CC-BY-SA 4.0</td>
					    </tr>
					    <tr>
					      <th scope="row">Issued</th>
					      <td>2020/07/01</td>
					    </tr>
					    <tr>
					      <th scope="row">Modified</th>
					      <td>2020/07/01</td>
					    </tr>
					    <tr>
					      <th scope="row">RDF assertion</th>
					      <td><a href="https://learreDHDK.github.io/ccode/dcat-rdf/rdf-ccode.ttl">https://learreDHDK.github.io/ccode/dcat-rdf/rdf-ccode.ttl</a></td>
					    </tr>
					  </tbody>
					</table>
				</div>
				<div class="tab-pane" id="natural-events">
					<table class="table">
					  <tbody>
					    <tr>
					      <th scope="row">Title</th>
					      <td>CCODe - Natural Events</td>
					    </tr>
					    <tr>
					      <th scope="row">Description</th>
					      <td>This dataset contains data from different organizations related to the following natural events: precipitation, temperature, sea ice, floods, droughts, wildfires and threatened species. For precipitation, temperature and sea ice the data were collected on a global scale; while for droughts, floods, wildfires and threatened species, data were collected on a country based scale. The temporal coverages of the datasets are different; the majority of them collected data from 1980 to 2019, but there are some cases that bring back to 1880 and some others that end at the beginning of the XXI century.</td>
					    </tr>
					    <tr>
					      <th scope="row">Creators</th>
					      <td>Rebecca Del Bene, Leticia S. Hamvegam M., Arianna Pizzicori</td>
					    </tr>
					    <tr>
					      <th scope="row">Publishers</th>
					      <td>Rebecca Del Bene, Leticia S. Hamvegam M., Arianna Pizzicori</td>
					    </tr>
					    <tr>
					      <th scope="row">URI</th>
						<td><a href="https://learreDHDK.github.io/ccode/xml/natural_events.xml">https://learreDHDK.github.io/ccode/xml/natural_events.xml</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Spatial coverage</th>
					      <td>World</td>
					    </tr>
				            <tr>
					      <th scope="row">Temporal coverage</th>
					      <td>1880-2019</td>
					    </tr>
					    <tr>
					      <th scope="row">Theme</th>
					      <td><a href="http://publications.europa.eu/resource/authority/data-theme/ENVI">Environment</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Keywords</th>
					      <td>climate change, natural events, world</td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://preview.grid.unep.ch/index.php?preview=data&events=droughts&evcat=1&lang=eng">Droughts events 1980-2001</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="http://floodobservatory.colorado.edu/Archives/index.html">Global Active Archive of Large Flood Events</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://www.ncdc.noaa.gov/ibtracs/index.php?name=ib-v4-access">International Best Track Archive for Climate Stewardship (IBTrACS) Project, Version 4</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="http://www.globalfiredata.org/analysis.html">GFEDv4 (Global Fire Emissions Database, Version 4)</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://www.climate.gov/maps-data/dataset/global-temperature-anomalies-graphing-tool">Climate at a Glance - Time Series Graphs of Temperature Anomalies</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://stats.oecd.org/Index.aspx?DataSetCode=WILD_LIFE">Threatened species</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://www.ncdc.noaa.gov/snow-and-ice/extent/">Sea Ice and Snow Cover Extent</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://www.ncdc.noaa.gov/data-access/land-based-station-data/land-based-datasets/global-historical-climatology-network-monthly-version-2?fbclid=IwAR20WeoOz2fCxr0hPl_KgqkAIJKu2CY0eNTlPYu5CtH3osaDUSbFlQR26kM">Climate Change Indicators: U.S. and Global Precipitation</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Format</th>
					      <td>XML</td>
					    </tr>
					    <tr>
					      <th scope="row">Byte size</th>
					      <td>2,09 MB</td>
					    </tr>
					    <tr>
					      <th scope="row">Download</th>
					      <td><a href="https://learreDHDK.github.io/ccode/xml/natural_events.xml" download>https://learreDHDK.github.io/ccode/xml/natural_events.xml</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Status</th>
					      <td>Completed</td>
					    </tr>
					    <tr>
					      <th scope="row">Language</th>
					      <td>English</td>
					    </tr>				
					    <tr>
					      <th scope="row">License</th>
					      <td>CC-BY-SA 4.0</td>
					    </tr>
					    <tr>
					      <th scope="row">Issued</th>
					      <td>2020/07/01</td>
					    </tr>
					    <tr>
					      <th scope="row">Modified</th>
					      <td>2020/07/01</td>
					    </tr>
					    <tr>
					      <th scope="row">Accrual periodicity</th>
					      <td>Annual</td>
					    </tr>
					    <tr>
					      <th scope="row">RDF assertion</th>
					      <td><a href="https://learreDHDK.github.io/ccode/dcat-rdf/rdf-natural-events.ttl">https://learreDHDK.github.io/ccode/dcat-rdf/rdf-natural-events.ttl</a></td>
					    </tr>
					  </tbody>
					</table>
				</div>
				<div class="tab-pane" id="impact-and-commitments">
					<table class="table">
					  <tbody>
					    <tr>
					      <th scope="row">Title</th>
					      <td>CCODe - Impact on climate change and commitments</td>
					    </tr>
					    <tr>
					      <th scope="row">Description</th>
					      <td>This dataset contains data from different organizations related to the impact of the countries all over the world on the environment and their actions undertaken to fight climate change.</td>
					    </tr>
					    <tr>
					      <th scope="row">Creators</th>
					      <td>Rebecca Del Bene, Leticia S. Hamvegam M., Arianna Pizzicori</td>
					    </tr>
					    <tr>
					      <th scope="row">Publishers</th>
					      <td>Rebecca Del Bene, Leticia S. Hamvegam M., Arianna Pizzicori</td>
					    </tr>
					    <tr>
					      <th scope="row">URI</th>
						<td><a href="https://learreDHDK.github.io/ccode/xml/impact_and_commitments.xml">https://learreDHDK.github.io/ccode/xml/impact_and_commitments.xml</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Spatial coverage</th>
					      <td>World</td>
					    </tr>
				            <tr>
					      <th scope="row">Temporal coverage</th>
					      <td>1961-2019</td>
					    </tr>
					    <tr>
					      <th scope="row">Themes</th>
					      <td><a href="http://publications.europa.eu/resource/authority/data-theme/ENVI">Environment</a>, <a href="http://publications.europa.eu/resource/authority/data-theme/ECON">Economy and finance</a>, <a href="http://publications.europa.eu/resource/authority/data-theme/GOVE">Government and public sector</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Keywords</th>
					      <td>climate change, countries actions, emissions, funds, footprint, Paris Agreement, world</td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://stats.oecd.org/Index.aspx?DataSetCode=AIR_GHG#">Greenhouse Gas Emissions</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://www.footprintnetwork.org/licenses/public-data-package-free/">National Footprint and Biocapacity Accounts 2019 Public Data Package</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://www.wri.org/resources/data-sets/cait-paris-contributions-data">CAIT Paris Contributions Data</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://climatefundsupdate.org/data-dashboard/#1541245664327-538690dc-b9a8">Cumulative data on the contributors of climate finance</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Format</th>
					      <td>XML</td>
					    </tr>
					    <tr>
					      <th scope="row">Byte size</th>
					      <td>1,73 MB</td>
					    </tr>
					    <tr>
					      <th scope="row">Download</th>
					      <td><a href="https://learreDHDK.github.io/ccode/xml/impact_and_commitments.xml" download>https://learreDHDK.github.io/ccode/xml/impact_and_commitments.xml</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Status</th>
					      <td>Completed</td>
					    </tr>
					    <tr>
					      <th scope="row">Language</th>
					      <td>English</td>
					    </tr>				
					    <tr>
					      <th scope="row">License</th>
					      <td>CC-BY-SA 4.0</td>
					    </tr>
					    <tr>
					      <th scope="row">Issued</th>
					      <td>2020/07/01</td>
					    </tr>
					    <tr>
					      <th scope="row">Modified</th>
					      <td>2020/07/01</td>
					    </tr>
					    <tr>
					      <th scope="row">Accrual periodicity</th>
					      <td>Annual</td>
					    </tr>
					    <tr>
					      <th scope="row">RDF assertion</th>
					      <td><a href="https://learreDHDK.github.io/ccode/dcat-rdf/rdf-impact-and-commitments.ttl">https://learreDHDK.github.io/ccode/dcat-rdf/rdf-impact-and-commitments.ttl</a></td>
					    </tr>
					  </tbody>
					</table>
				</div>
				<div class="tab-pane" id="eu-opinions">
					<table class="table">
					  <tbody>
					    <tr>
					      <th scope="row">Title</th>
					      <td>CCODe - European opinions on climate change</td>
					    </tr>
					    <tr>
					      <th scope="row">Description</th>
					      <td>This dataset contains data from the european commission related to the opinions of european citizens on climate change issues.</td>
					    </tr>
					    <tr>
					      <th scope="row">Creators</th>
					      <td>Rebecca Del Bene, Leticia S. Hamvegam M., Arianna Pizzicori</td>
					    </tr>
					    <tr>
					      <th scope="row">Publishers</th>
					      <td>Rebecca Del Bene, Leticia S. Hamvegam M., Arianna Pizzicori</td>
					    </tr>
					    <tr>
					      <th scope="row">URI</th>
						<td><a href="https://learreDHDK.github.io/ccode/xml/eu_opinions.xml">https://learreDHDK.github.io/ccode/xml/eu_opinions.xml</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Spatial coverage</th>
					      <td>European Union</td>
					    </tr>
				            <tr>
					      <th scope="row">Temporal coverage</th>
					      <td>2009-2019</td>
					    </tr>
					    <tr>
					      <th scope="row">Themes</th>
					      <td><a href="http://publications.europa.eu/resource/authority/data-theme/ENVI">Environment</a>, <a href="http://publications.europa.eu/resource/authority/data-theme/SOCI">Population and society</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Keywords</th>
					      <td>climate change, European Union, Eurobarometer, citizens, opinions</td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://data.europa.eu/euodp/it/data/dataset/S942_71_1_EBS313">Eurobarometer 2009</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://data.europa.eu/euodp/it/data/dataset/S1084_80_2_409">Eurobarometer 2013</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Source</th>
					      <td><a href="https://data.europa.eu/euodp/en/data/dataset/S2212_91_3_490_ENG">Eurobarometer 2019</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Format</th>
					      <td>XML</td>
					    </tr>
					    <tr>
					      <th scope="row">Byte size</th>
					      <td>185 KB</td>
					    </tr>
					    <tr>
					      <th scope="row">Download</th>
					      <td><a href="https://learreDHDK.github.io/ccode/xml/eu_opinions.xml" download>https://learreDHDK.github.io/ccode/xml/eu_opinions.xml</a></td>
					    </tr>
					    <tr>
					      <th scope="row">Status</th>
					      <td>Completed</td>
					    </tr>
					    <tr>
					      <th scope="row">Language</th>
					      <td>English</td>
					    </tr>				
					    <tr>
					      <th scope="row">License</th>
					      <td>CC-BY-SA 4.0</td>
					    </tr>
					    <tr>
					      <th scope="row">Issued</th>
					      <td>2020/07/01</td>
					    </tr>
					    <tr>
					      <th scope="row">Modified</th>
					      <td>2020/07/01</td>
					    </tr>
					    <tr>
					      <th scope="row">Accrual periodicity</th>
					      <td>Annual</td>
					    </tr>
					    <tr>
					      <th scope="row">RDF assertion</th>
					      <td><a href="https://learreDHDK.github.io/ccode/dcat-rdf/rdf-eu-opinions.ttl">https://learreDHDK.github.io/ccode/dcat-rdf/rdf-eu-opinions.ttl</a></td>
					    </tr>
					  </tbody>
					</table>
				</div>
			</div>
          	</div>
        </div>
      </div>
<!--<h3 class="mb-0">Senior Web Developer</h3>
            <div class="subheading mb-3">Intelitec Solutions</div>
            <p id="natural-events">Bring to the table win-win survival strategies to ensure proactive domination. At the end of the day, going forward, a new normal that has evolved from generation X is on the runway heading towards a streamlined cloud solution. User generated content in real-time will have multiple touchpoints for offshoring.</p>
		<p id="impact-and-commitments">Bring to the table win-win survival strategies</p>
		  <p id="eu-opinions">Bring to the table win-win survival strategies</p>-->
	    
    </section>

    <hr class="m-0">

    <section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="documentation">
      <div class="w-100">
        <h2 class="mb-5">Documentation</h2>

        <div class="resume-item d-flex flex-column flex-md-row justify-content-between mb-5">
          <p>Click here to see the <a href="https://github.com/learreDHDK/ccode/blob/master/README.md">documentation</a> on the GitHub page</p>
          <!--<div class="resume-content">
            <h3 class="mb-0">University of Colorado Boulder</h3>
            <div class="subheading mb-3">Bachelor of Science</div>
            <div>Computer Science - Web Development Track</div>
            <p>GPA: 3.23</p>
          </div>
          <div class="resume-date text-md-right">
            <span class="text-primary">August 2006 - May 2010</span>
          </div>-->
        </div>
      </div>
    </section>

  </div>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="js/resume.min.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script>

  <!--NATURE SECTION-->
	<script>
		$("#mainContainer").load("https://raw.githubusercontent.com/learreDHDK/ccode/master/charts/map.html")
	</script>

	<!--by arianna - non cancellare pls xoxo <script>
		window.onload=function(){
			$("#hiddenContainer").load("charts/nature-global.html")
			document.getElementById("hiddenContainer").style.display = "none";
		}
	</script>

	<script>
		$(document).ready(function(){
		$("#button5").click(function(){
			document.getElementById("hiddenContainer").style.display = "block";
		});
	});
	</script>-->

	<script>
		window.onload=function(){
		document.getElementById('button4').focus();
		}
	</script>

	<script>
		function myFunction() {
		  $("#container").load('#mainContainer');
		  $("#mainContainer").load('charts/map.html');
		}
	</script>

	<script>
	$(document).ready(function() {
   	$('#button4').click();
	});
	</script>

	<script type="text/javascript">
		$(function () {
		$("#button1").on('click', function () {
		$("#container").empty();
		$("#mainContainer").empty();
		$("#button4").show();
		$("#button5").show();
		$("#button6").show();
		$("#button7").hide();
		$("#button8").hide();
		$("#button9").hide();
		$("#button10").hide();
		});
	});
	</script>

	<script>
		$(document).ready(function(){
		$("#button4").click(function(){
		$("#mainContainer").load("charts/map.html")
		});
	});
	</script>
					
	<script>
		$(document).ready(function(){
		$("#button5").click(function(){
		$("#mainContainer").load("charts/nature-global.html")
		});
	});
	</script>

	<script>
		$(document).ready(function(){
		$("#button6").click(function(){
		$("#mainContainer").load("charts/nature-by-country.html")
		});
	});
	</script>


	<!--IMPACT AND COMMITMENTS SECTION-->

	<script>
		$(document).ready(function(){
		$("#button2").click(function(){
		$("#container").empty();
		$("#mainContainer").load("charts/impact-and-commitments.html")
		$("#button4").hide();
		$("#button5").hide();
		$("#button6").hide();
		$("#button7").hide();
		$("#button8").hide();
		$("#button9").hide();
		$("#button10").hide();
		});
	});
	</script>


	<!--OPINIONS SECTION-->

	<script type="text/javascript">
		$(function () {
		$("#button3").on('click', function () {
		$("#container").empty();
		$("#mainContainer").empty();
		$("#button7").show();
		$("#button8").show();
		$("#button9").show();
		$("#button10").show();
		$("#button4").hide();
		$("#button5").hide();
		$("#button6").hide();
		});
	});
	</script>

	<script>
		$(document).ready(function(){
		$("#button7").click(function(){
		$("#mainContainer").load("charts/eu-opinions-q1.html")
		});
	});
	</script>

	<script>
		$(document).ready(function(){
		$("#button8").click(function(){
		$("#mainContainer").load("charts/eu-opinions-q2.html")
		});
	});
	</script>

	<script>
		$(document).ready(function(){
		$("#button9").click(function(){
		$("#mainContainer").load("charts/eu-opinions-q3.html")
		});
	});
	</script>

	<script>
		$(document).ready(function(){
		$("#button10").click(function(){
		$("#mainContainer").load("charts/eu-opinions-q4.html")
		});
	});
	</script>
	
<script type="text/javascript">
    // import del json con i dati per i colori della mappa
    var request = new XMLHttpRequest();
    request.open("GET", "https://raw.githubusercontent.com/learreDHDK/ccode/master/charts/json-files/map-percent.json", false);
    request.send(null)
    var stats = JSON.parse(request.responseText);
    
    // import del json con i dati da mettere nel tooltip
    var request = new XMLHttpRequest();
    request.open("GET", "https://raw.githubusercontent.com/learreDHDK/ccode/master/charts/json-files/map-total.json", false);
    request.send(null)
    var tooltip_info = JSON.parse(request.responseText);

    var slider = document.getElementById('sliderYear'), divYear = document.getElementById("divYear");
    var minYear = Math.min(...Object.keys(stats).map(y => parseInt(y)));
    var maxYear = Math.max(...Object.keys(stats).map(y => parseInt(y)));

    var year = maxYear;
    var lastPaintedYear = null;
    console.log(year);


    slider.oninput = slider.onchange = function() {
        divYear.innerHTML = this.value; // + " - " + (parseInt(this.value)+4);
        //divYear.innerHTML = this.value + " - " + (parseInt(this.value)+4);
        year = this.value;
        refreshMap(this.value);
    }

    var hue = 169;         // from 0 to 255
    var saturation = 61;   // in %
    var minLightness = 20; // in %
    var maxLightness = 80; // in %
    var lightnessAmplitude = maxLightness - minLightness;

    var minValue = 0;
    var maxValue = 150; //137 somma massima delle percentuali
    var valuesAmplitude = maxValue - minValue;

    var map = new Datamap({
      element: document.getElementById("container"),
      projection: 'mercator', // equirectangular
      //fills: {defaultFill: "hsl(169, 61, " + minLightness + ")"},
      fills: {defaultFill: "#d3d3d3"}, //french guyana (GUF), gibuti (DJI), falkland islands (FLK), kosovo (RKS), territori australi francesi (ATF)
      data: {},
      geographyConfig: {
          //highlightBorderColor: '#bada55',
        popupTemplate: function(geography, data) {
            if(data.info == undefined)
              data.info = "";
            return '<div class="hoverinfo"><b>' + geography.properties.name + "</b>" + data.info +"</div>" //info nel tooltip
          },
          //highlightBorderWidth: 3
        },
    });

    function refreshMap(year){
      if(lastPaintedYear == year)
        return;
      lastPaintedYear = year;

      let totals = {};
      let stats_year = stats[year]
      for(let alpha3 in stats_year){
        let tot = 0;
        let info = "";
        let stats_year_alpha3 = stats_year[alpha3];
        for(let stat in stats_year_alpha3){
          let value = stats_year_alpha3[stat];
          let tooltip_value = tooltip_info[year][alpha3][stat]
          tot += value;  // 4 / value * 100
          info += "<br>" + stat + ": " + tooltip_value; //tot
        }

        let light = (1 - (tot - minValue) / valuesAmplitude) * lightnessAmplitude + minLightness;
        light = Math.floor(light);
        light = Math.max(Math.min(light, maxLightness), minLightness);
        //totals[alpha3] = "hsl(169, 61, " + light + ")";
        totals[alpha3] = {color: "hsl(169, 61, " + light + ")", info: info};
      }
      
      map.updateChoropleth(totals, {reset: true});
    }

    refreshMap(year);

</script>

</body>

</html>
